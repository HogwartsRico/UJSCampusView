<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <title>江苏大学校园全景 by ChiChou</title>

    <link rel="stylesheet" href="stylesheets/styles.css">
    <link rel="stylesheet" href="stylesheets/pygment_trac.css">
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
  </head>
  <body>
    <div class="wrapper">
      <header>
        <h1>江苏大学校园全景</h1>
        <p>Cute street view driven by THREE.js</p>

        <p class="view"><a href="https://github.com/ChiChou/UJSCampusView">View the Project on GitHub <small>ChiChou/UJSCampusView</small></a></p>


        <ul>
          <li><a href="https://github.com/ChiChou/UJSCampusView/zipball/master">Download <strong>ZIP File</strong></a></li>
          <li><a href="https://github.com/ChiChou/UJSCampusView/tarball/master">Download <strong>TAR Ball</strong></a></li>
          <li><a href="https://github.com/ChiChou/UJSCampusView">View On <strong>GitHub</strong></a></li>
        </ul>
      </header>
      <section>
        <h1>
<a name="ujscampusview---%E6%B1%9F%E5%A4%A7%E8%A1%97%E6%99%AF" class="anchor" href="#ujscampusview---%E6%B1%9F%E5%A4%A7%E8%A1%97%E6%99%AF"><span class="octicon octicon-link"></span></a>UJSCampusView - 江大街景</h1>

<p><img src="https://raw.githubusercontent.com/ChiChou/UJSCampusView/master/UJSCampusView.jpg" alt="截图"></p>

<p>这是一个基于 <a href="http://threejs.org/">THREE.js</a> 的仿 Google 街景程序，需要浏览器和显卡支持 WEBGL。</p>

<p><a href="http://chichou.github.io/UJSCampusView/demo" title="Live demo">在线演示</a></p>

<h2>
<a name="%E6%9C%AC%E5%9C%B0%E6%B5%8B%E8%AF%95" class="anchor" href="#%E6%9C%AC%E5%9C%B0%E6%B5%8B%E8%AF%95"><span class="octicon octicon-link"></span></a>本地测试</h2>

<p><strong>由于浏览器的安全策略，本地（网址为file:///）上不能加载图片纹理。</strong>请使用nginX / Apache / IIS 等服务器发布到 localhost 后查看。</p>

<p><strong>推荐使用</strong> Python 的简易HTTP服务器： <code>python -m SimpleHTTPServer</code></p>

<h2>
<a name="%E5%9B%BE%E7%89%87%E8%A7%84%E6%A0%BC" class="anchor" href="#%E5%9B%BE%E7%89%87%E8%A7%84%E6%A0%BC"><span class="octicon octicon-link"></span></a>图片规格</h2>

<p>场景图片使用鱼眼镜头拍摄，若要达到最佳效果（全视角），需要满足宽高比为 2:1。如长宽比大于2，会有无法呈现的视角，程序将自动复制像素填充黑边。</p>

<h2>
<a name="%E6%B5%8F%E8%A7%88%E5%99%A8%E8%A6%81%E6%B1%82" class="anchor" href="#%E6%B5%8F%E8%A7%88%E5%99%A8%E8%A6%81%E6%B1%82"><span class="octicon octicon-link"></span></a>浏览器要求</h2>

<p>目前最新版Chrome，Opera，Firefox 和 IE11 都支持 WEBGL。对于低版本的浏览器嘛，为了保证自己的体验，还是赶紧升级吧！</p>

<h2>
<a name="%E4%BA%A4%E4%BA%92" class="anchor" href="#%E4%BA%A4%E4%BA%92"><span class="octicon octicon-link"></span></a>交互</h2>

<ul>
<li>支持键盘方向键（上下左右）导航</li>
<li>支持鼠标拖动视角</li>
<li>支持鼠标滚轮放大/缩小</li>
<li>支持按钮点击控制视角</li>
</ul><h2>
<a name="%E7%BC%96%E7%A8%8B%E6%8E%A5%E5%8F%A3" class="anchor" href="#%E7%BC%96%E7%A8%8B%E6%8E%A5%E5%8F%A3"><span class="octicon octicon-link"></span></a>编程接口</h2>

<h3>
<a name="%E6%9E%84%E9%80%A0%E5%99%A8-streetparam" class="anchor" href="#%E6%9E%84%E9%80%A0%E5%99%A8-streetparam"><span class="octicon octicon-link"></span></a>构造器 Street(param)</h3>

<p>需要使用street函数。param为视图所在的容器元素，支持id、选择器、元素三种类型。</p>

<pre><code>var streetView = street('viewport').view('img/scene.jpg');
</code></pre>

<h3>
<a name="%E5%88%87%E6%8D%A2%E8%B4%B4%E5%9B%BE-togglepath" class="anchor" href="#%E5%88%87%E6%8D%A2%E8%B4%B4%E5%9B%BE-togglepath"><span class="octicon octicon-link"></span></a>切换贴图 toggle(path)</h3>

<p>toggle方法</p>

<p><code>streetView.toggle('img/new/path/to/texture.jpg')</code></p>

<ul>
<li>镜头

<ul>
<li>拉近 <code>streetView.zoomIn()</code>
</li>
<li>拉远 <code>streetView.zoomOut()</code>
</li>
<li>左移 <code>streetView.panLeft()</code>
</li>
<li>右移 <code>streetView.panRight()</code>
</li>
</ul>
</li>
</ul><h3>
<a name="%E4%BA%8B%E4%BB%B6%E5%A4%84%E7%90%86" class="anchor" href="#%E4%BA%8B%E4%BB%B6%E5%A4%84%E7%90%86"><span class="octicon octicon-link"></span></a>事件处理</h3>

<p>使用 <code>streetView.on('event', function(){/* handler here */})</code> 附加事件监听函数。如果第二个参数为空，则清空当前的事件回调。</p>

<ul>
<li>
<code>onImageLoad</code> 纹理图片开始下载</li>
<li>
<code>onImageLoadFinished</code> 纹理图片下载完成</li>
<li>
<code>onImageDrawFinished</code> 纹理图片渲染完成</li>
<li>
<code>onImageLoadError</code> 图片下载失败</li>
</ul>
      </section>
      <footer>
        <p>This project is maintained by <a href="https://github.com/ChiChou">ChiChou</a></p>
        <p><small>Hosted on GitHub Pages &mdash; Theme by <a href="https://github.com/orderedlist">orderedlist</a></small></p>
      </footer>
    </div>
    <script src="javascripts/scale.fix.js"></script>
    
  </body>
</html>